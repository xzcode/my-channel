<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!-- jdbclink code generator - 2018-07-04 13:15:54 -->
<head>
<title>网站后台管理系统</title>
<meta charset="utf-8" />
	<meta th:include="common :: head_common" th:remove="tag"></meta>
	
	<style th:include="common :: css_common" th:remove="tag"></style>
	
	<script th:include="common :: script_common" th:remove="tag"></script>

</head>
<body  th:with="baseReqPath='/product/product'">
	<ol class="breadcrumb">
	  <li>产品信息管理</li>
	  <li>产品信息列表</li>
	  <li>编辑</li>
	</ol>
	
	<form class="form-horizontal edit-form" th:action="@{|${baseReqPath}/ajax/edit/save|}">
		
		

	

	<div class="form-group hide">
		<label for="uid" class="col-sm-1"> 自增主键 : </label>
		<div class="col-md-4 col-sm-10">
		  
	      <input type="text" class="form-control" id="uid" name="uid"  required="required" maxlength="20" th:value="${editObj.uid}"/>
	      <div class="help-block"></div> 
	    </div>
	</div>

	

	<div class="form-group ">
		<label for="adminId" class="col-sm-1"> 发布管理员 : </label>
		<div class="col-md-4 col-sm-10">
		  
	     
	       <input type="text" disabled="disabled" class="form-control" id="adminName" th:value="${editObj.adminName}"/>
	     
	      <div class="help-block"></div> 
	    </div>
	</div>

	

	<div class="form-group ">
		<label for="categoryId" class="col-sm-1"> 产品分类 : </label>
		<div class="col-md-4 col-sm-10">
		  <select name="categoryId" id="categoryId" class="form-control" required="required">
	      	<option th:each="item,state : ${categories}" th:selected="${item.uid == editObj.categoryId}" th:value="${item.uid}" th:text="${item.name}">xxx</option>
	      </select>
	      <div class="help-block"></div> 
	    </div>
	</div>

	

	<div class="form-group ">
		<label for="coverTitle" class="col-sm-1"> 列表标题 : </label>
		<div class="col-md-4 col-sm-10">
		  
	      <input type="text" class="form-control" id="coverTitle" name="coverTitle"  required="required" maxlength="64" th:value="${editObj.coverTitle}"/>
	      <div class="help-block"></div> 
	    </div>
	</div>

		

	<div class="form-group ">
		<label for="coverIntro" class="col-sm-1"> 列表简介 : </label>
		<div class="col-md-4 col-sm-10">
		  
	      <input type="text" class="form-control" id="coverIntro" name="coverIntro"   maxlength="255" th:value="${editObj.coverIntro}"/>
	      <div class="help-block"></div> 
	    </div>
	</div>
	

	<div class="form-group ">
		<label for="coverUrl" class="col-sm-1"> 列表配图 : </label>
		<div class="col-md-4 col-sm-10">
		  
		  	<input type="hidden" class="form-control" id="coverUrl" name="coverUrl"   maxlength="255" th:value="${editObj.coverUrl}"/>
		  	<div id='coverUrl_uploader' class="uploader" data-ride="uploader" ></div>
	  		<script th:inline="javascript">
			    /*<![CDATA[*/
			    	
			                	
	               	var coverUrlUploader = UploaderOperation.initUploader({
	               		uploaderId: 'coverUrl_uploader',
	               		filesUrlInputId: 'coverUrl',
	   			    	limitFilesCount: 1,
	   			    });
				   	
				   	/*]]>*/
		    </script>
	  		
	      <div class="help-block"></div> 
	    </div>
	</div>


		

	<div class="form-group ">
		<label for="detailTitle" class="col-sm-1"> 详情标题 : </label>
		<div class="col-md-4 col-sm-10">
		  
	      <input type="text" class="form-control" id="detailTitle" name="detailTitle"   maxlength="255" th:value="${editObj.detailTitle}"/>
	      <div class="help-block"></div> 
	    </div>
	</div>

	

	<div class="form-group ">
		<label for="detailBgUrl" class="col-sm-1"> 详情背景图 : </label>
		<div class="col-md-4 col-sm-10">
		  
		  	<input type="hidden" class="form-control" id="detailBgUrl" name="detailBgUrl"   maxlength="255" th:value="${editObj.detailBgUrl}"/>
		  	<div id='detailBgUrl_uploader' class="uploader" data-ride="uploader" ></div>
	  		<script th:inline="javascript">
			    /*<![CDATA[*/
			    	
			                	
	               	var detailBgUrlUploader = UploaderOperation.initUploader({
	               		uploaderId: 'detailBgUrl_uploader',
	               		filesUrlInputId: 'detailBgUrl',
	   			    	limitFilesCount: 1,
	   			    });
				   	
				   	/*]]>*/
		    </script>
	  		
	      <div class="help-block"></div> 
	    </div>
	</div>
	
	
	<div class="form-group ">
	
		<label for="detailBgUrl" class="col-sm-1"> 详情展示图 : </label>
		<div class="col-md-4 col-sm-10">
		      	<input type="hidden" class="form-control" id="detailShowUrl" name="detailShowUrl"  maxlength="255" th:value="${editObj.detailShowUrl}"/>
			  	<div id='detailShowUrl_uploader' class="uploader" data-ride="uploader" ></div>
		  		<script th:inline="javascript">
				    /*<![CDATA[*/
				    	
		               	var detailShowUrlUploader = UploaderOperation.initUploader({
		               		uploaderId: 'detailShowUrl_uploader',
		               		filesUrlInputId: 'detailShowUrl',
		   			    	limitFilesCount: 14,
		   			    });
					   	
					   	/*]]>*/
			    </script>
		      
		      <div class="help-block"></div> 
	    </div>
	</div>
	



	<div class="form-group ">
		<label for="detailIntroText" class="col-sm-1"> 产品介绍 : </label>
		<div class="col-md-4 col-sm-10">
		  
			 <textarea class="form-control" style="width:100%; height: 200px;" id="detailIntroText" name="detailIntroText"   maxlength="2048" th:text="${editObj.detailIntroText}"></textarea>
		     <div class="help-block">长度限制2048个字</div> 
	      <div class="help-block"></div> 
	    </div>
	</div>

	

	<div class="form-group ">
		<label for="detailPropsText" class="col-sm-1"> 产品特性 : </label>
		<div class="col-md-4 col-sm-10">
		  
			 <textarea class="form-control" style="width:100%; height: 200px;" id="detailPropsText" name="detailPropsText"   maxlength="2048" th:text="${editObj.detailPropsText}"></textarea>
		     <div class="help-block">长度限制2048个字</div> 
	      <div class="help-block"></div> 
	    </div>
	</div>

	

	<div class="form-group ">
		<label for="detailParamsText" class="col-sm-1"> 产品参数 : </label>
		<div class="col-md-4 col-sm-10">
		  
			 <textarea class="form-control" style="width:100%; height: 200px;" id="detailParamsText" name="detailParamsText"   maxlength="2048" th:text="${editObj.detailParamsText}"></textarea>
		     <div class="help-block">长度限制2048个字</div> 
	      <div class="help-block"></div> 
	    </div>
	</div>

	

	<div class="form-group ">
		<label for="detailPartsText" class="col-sm-1"> 产品配件 : </label>
		<div class="col-md-4 col-sm-10">
		  
			 <textarea class="form-control" style="width:100%; height: 200px;" id="detailPartsText" name="detailPartsText"   maxlength="2048" th:text="${editObj.detailPartsText}"></textarea>
		     <div class="help-block">长度限制2048个字</div> 
	      <div class="help-block"></div> 
	    </div>
	</div>

	

	<div class="form-group ">
		<label for="sort" class="col-sm-1"> 排序 : </label>
		<div class="col-md-4 col-sm-10">
		  
	  	  <input type="number" step="1" class="form-control" id="sort" name="sort"  required="required" maxlength="11"   th:value="${editObj.sort}" />
	  	  
	      <div class="help-block"></div> 
	    </div>
	</div>

	

	<div class="form-group ">
		<label for="createDate" class="col-sm-1"> 创建时间 : </label>
		<div class="col-md-4 col-sm-10">
		  
	  	  <input type="text" disabled="disabled" class="form-control"  th:value="${editObj.createDate != null ? #dates.format(editObj. createDate, 'yyyy-MM-dd HH:mm:ss') : ''}" />
	  	  
	      <div class="help-block"></div> 
	    </div>
	</div>
	
	
	
	<div class="form-group ">
		
			<label for="seoTitle" class="col-sm-1"> SEO自定义标题 : </label>
			<div class="col-md-4 col-sm-10">
			      <input type="text" class="form-control" id="seoTitle" name="seoTitle" th:value="${editObj.seoTitle}" required="required" maxlength="255" />
			      <div class="help-block">限制255个字</div> 
		    </div>
		</div>
		
		<div class="form-group ">
		
			<label for="seoKeywords" class="col-sm-1"> SEO自定义关键字 : </label>
			<div class="col-md-4 col-sm-10">
			      <input type="text" class="form-control" id="seoKeywords" name="seoKeywords" th:value="${editObj.seoKeywords}" required="required" maxlength="512" />
			      <div class="help-block">限制512个字</div> 
		    </div>
		</div>
		
		<div class="form-group ">
		
			<label for="seoDescription" class="col-sm-1"> SEO自定义说明 : </label>
			<div class="col-md-4 col-sm-10">
			      <input type="text" class="form-control" id="seoDescription" name="seoDescription" th:value="${editObj.seoDescription}" required="required" maxlength="512" />
			      <div class="help-block">限制512个字</div> 
		    </div>
		</div>

	

	<div class="form-group ">
		<label for="enabled" class="col-sm-1"> 启用状态 : </label>
		<div class="col-md-4 col-sm-10">
		  
	      	  <select id="enabled" name="enabled"  required="required" maxlength="1" class="form-control">
		      	<option th:selected="${editObj.enabled == 0 }" value="0">禁用</option>
		      	<option th:selected="${editObj.enabled == 1 }" value="1">启用</option>
		      </select>
	      <div class="help-block"></div> 
	    </div>
	</div>
	  
	 
	  <div class="form-group">
	    <div class="col-sm-offset-1 col-sm-10">
	      <button type="submit" class="btn btn-primary">保存</button>
	      
	      <button type="button" class="btn btn-default" onclick="history.back()">返回</button>
	    </div>
	  </div>
	  
	</form>
	

</body>


<script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/

		
	
		var referer = [[${#httpServletRequest.getHeader('Referer')}]];
		
        var formValidation = $('.edit-form').formValidation();
        
        var formValidationPlugin = $('.edit-form').data('formValidation');
        
        formValidation.on('success.form.fv', function(e) {
            // Prevent form submission
            e.preventDefault();

            // Get the form instance
            var $form = $(e.target);

            // Get the FormValidation instance
            var bv = $form.data('formValidation');
            
            /*
            var params = $form.serializeArray().map(x => {
            	var v = x.value;
            	if(x.name === 'price'){
            		//console.log(parseInt(x.value * 100))
            		v = parseInt(x.value * 100)
                }
            	return `${x.name}=${v}`;

            }).join('&');
            */

            // Use Ajax to submit form data
            $.post($form.attr('action'), $form.serialize(), function(result) {
                
                if(result.success){
            		Msg.success('操作成功!',null,function(){
	            		location.href = referer;                		
                	});
				}else{
					Msg.error('提示消息：操作失败!');
					setTimeout(function(){
						formValidationPlugin.disableSubmitButtons(false);
					},1000);
				}
                
            }, 'json');
        });
    
	
	
	
	
	$(function(){
		$('#updateDate').attr('disabled','disabled');
		$('#createDate').attr('disabled','disabled');
		//$('#updateUserName').attr('disabled','disabled');
		//$('#createUserName').attr('disabled','disabled');
	})
/*]]>*/
</script>

</html>